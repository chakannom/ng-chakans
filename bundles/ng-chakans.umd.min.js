!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("rxjs"),require("@angular/common/http"),require("rxjs/operators"),require("@angular/router"),require("@angular/common"),require("@ng-bootstrap/ng-bootstrap"),require("@fortawesome/angular-fontawesome"),require("@ngx-translate/core")):"function"==typeof define&&define.amd?define("ng-chakans",["exports","@angular/core","rxjs","@angular/common/http","rxjs/operators","@angular/router","@angular/common","@ng-bootstrap/ng-bootstrap","@fortawesome/angular-fontawesome","@ngx-translate/core"],n):n((e=e||self)["ng-chakans"]={},e.ng.core,e.rxjs,e.ng.common.http,e.rxjs.operators,e.ng.router,e.ng.common,e.ngBootstrap,e.angularFontawesome,e.core$1)}(this,function(e,n,t,i,a,r,o,s,l,c){"use strict";var p=function(){return(p=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)};function u(e,n,t,i){var a,r=arguments.length,o=r<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(n,t,o):a(n,t))||o);return r>3&&o&&Object.defineProperty(n,t,o),o}function f(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)}function m(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var i,a,r=t.call(e),o=[];try{for(;(void 0===n||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=r["return"])&&t.call(r)}finally{if(a)throw a.error}}return o}function d(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(m(arguments[n]));return e}var g=function(){function e(){this.navbarViewed=new t.BehaviorSubject(!0)}return Object.defineProperty(e.prototype,"isNavbarViewed",{get:function(){return this.navbarViewed.asObservable()},enumerable:!0,configurable:!0}),e.prototype.setNavbarViewed=function(e){this.navbarViewed.next(e)},e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=u([n.Injectable({providedIn:"root"}),f("design:paramtypes",[])],e)}(),b=function(){function e(e){this.navbarService=e,this.isNavbarCollapsed=!0,this.isNavbarViewed=this.navbarService.isNavbarViewed}return e.prototype.doAction=function(e){this.collapseNavbar(),e&&("function"==typeof e?e():window.location.href=e)},e.prototype.collapseNavbar=function(){this.isNavbarCollapsed=!0},e.prototype.toggleNavbar=function(){this.isNavbarCollapsed=!this.isNavbarCollapsed},e.prototype.isUsedRouterLink=function(e){return!(!e||"function"==typeof e||"string"==typeof e)},u([n.Input(),f("design:type",Object)],e.prototype,"brand",void 0),u([n.Input(),f("design:type",Array)],e.prototype,"menuItems",void 0),e=u([n.Component({selector:"cks-navbar",template:'<nav class="navbar navbar-dark navbar-expand-md bg-dark" *ngIf="isNavbarViewed | async">\n    <a class="navbar-brand logo" (click)="doAction({routerLink: [\'/\']})" *ngIf="brand && brand.title">\n        <span class="logo-img"></span>\n        <span class="navbar-title">{{ !brand.title.translateKey ? brand.title.label : (brand.title.translateKey | translate) }}</span>\n        <span class="navbar-version" *ngIf="brand.version">{{ brand.version }}</span>\n    </a>\n    <a class="navbar-toggler d-lg-none" href="javascript:void(0);" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation" (click)="toggleNavbar()">\n        <fa-icon icon="bars"></fa-icon>\n    </a>\n    <div class="navbar-collapse collapse" id="navbarResponsive" [ngbCollapse]="isNavbarCollapsed">\n        <ul class="navbar-nav ml-auto">\n            <ng-template *ngFor="let item of menuItems" [ngTemplateOutlet]="item.subItems && item.subItems.length > 0 ? dropdown : nonDropdown" [ngTemplateOutletContext]="{ item: item }"></ng-template>\n        </ul>\n    </div>\n</nav>\n<ng-template #nonDropdown let-item="item">\n    <li class="nav-item" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">\n        <ng-template [ngTemplateOutlet]="isUsedRouterLink(item.navigation) ? routerLink : nonRouterLink" [ngTemplateOutletContext]="{ item: item, classname: \'nav-link\' }"></ng-template>\n    </li>\n</ng-template>\n<ng-template #dropdown let-item="item">\n    <li ngbDropdown class="nav-item dropdown pointer" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">\n        <a class="nav-link dropdown-toggle" ngbDropdownToggle href="javascript:void(0);" id="{{ item.id }}">\n            <span>\n                <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                    <fa-icon [icon]="item.icon"></fa-icon>\n                </fa-layers>\n                <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n            </span>\n        </a>\n        <ul class="dropdown-menu" ngbDropdownMenu [attr.aria-labelledby]="item.id" *ngIf="item.subItems && item.subItems.length > 0">\n            <li *ngFor="let subItem of item.subItems">\n                <ng-template [ngTemplateOutlet]="isUsedRouterLink(subItem.navigation) ? routerLink : nonRouterLink" [ngTemplateOutletContext]="{ item: subItem, classname: \'dropdown-item\' }"></ng-template>\n            </li>\n        </ul>\n    </li>\n</ng-template>\n<ng-template #nonRouterLink let-item="item" let-classname="classname">\n    <a [ngClass]="classname" (click)="doAction(item.navigation)">\n        <span>\n            <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                <fa-icon [icon]="item.icon"></fa-icon>\n            </fa-layers>\n            <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n        </span>\n    </a>\n</ng-template>\n<ng-template #routerLink let-item="item" let-classname="classname">\n    <a [ngClass]="classname" routerLinkActive="active" [routerLink]="item.navigation.routerLink" [queryParams]="item.navigation.queryParams" [fragment]="item.navigation.fragment" (click)="collapseNavbar()">\n        <span>\n            <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                <fa-icon [icon]="item.icon"></fa-icon>\n            </fa-layers>\n            <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n        </span>\n    </a>\n</ng-template>\n'}),f("design:paramtypes",[g])],e)}(),v=function(){return function(){}}(),y=function(){function e(){this.serverApiUrl="/"}return e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=u([n.Injectable({providedIn:"root"})],e)}(),h=function(){function e(e){this.CONFIG_OPTIONS=p({},new y,e)}return e.prototype.getConfig=function(){return this.CONFIG_OPTIONS},e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e(n.ɵɵinject(y))},token:e,providedIn:"root"}),e=u([n.Injectable({providedIn:"root"}),f("design:paramtypes",[y])],e)}(),I=function(){function e(e,n){this.configService=e,this.http=n,this.infoUrl="{SERVER_API_URL}management/info";var t=this.configService.getConfig();this.infoUrl=this.infoUrl.replace("{SERVER_API_URL}",t.serverApiUrl)}return e.prototype.getProfileInfo=function(){return this.profileInfo||(this.profileInfo=this.http.get(this.infoUrl,{observe:"response"}).pipe(a.map(function(e){var n=e.body,t=new v;t.activeProfiles=n.activeProfiles;var i=n["display-ribbon-on-profiles"].split(",");if(t.activeProfiles){var a=i.filter(function(e){return t.activeProfiles.includes(e)});0!==a.length&&(t.ribbonEnv=a[0]),t.inProduction=t.activeProfiles.includes("prod"),t.swaggerEnabled=t.activeProfiles.includes("swagger")}return t})).toPromise()),this.profileInfo},e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e(n.ɵɵinject(h),n.ɵɵinject(i.HttpClient))},token:e,providedIn:"root"}),e=u([n.Injectable({providedIn:"root"}),f("design:paramtypes",[h,i.HttpClient])],e)}(),k=function(){function e(e){this.profileService=e}return e.prototype.ngOnInit=function(){var e=this;this.profileService.getProfileInfo().then(function(n){e.profileInfo=n,e.ribbonEnv=n.ribbonEnv})},e=u([n.Component({selector:"cks-page-ribbon",template:'\n    <div class="ribbon" *ngIf="ribbonEnv">\n      <a href="">{{ \'global.ribbon.\' + ribbonEnv | translate }}</a>\n    </div>\n  '}),f("design:paramtypes",[I])],e)}(),w=function(){function e(){this.sidebarViewed=new t.BehaviorSubject(!0)}return Object.defineProperty(e.prototype,"isSidebarViewed",{get:function(){return this.sidebarViewed.asObservable()},enumerable:!0,configurable:!0}),e.prototype.setSidebarViewed=function(e){this.sidebarViewed.next(e)},e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=u([n.Injectable({providedIn:"root"}),f("design:paramtypes",[])],e)}(),C=function(){function e(e){this.router=e}return e.prototype.navigate=function(e){if("string"==typeof e)window.location.href=e;else{var n={};e.queryParams&&(n.queryParams=e.queryParams),e.fragment&&(n.fragment=e.fragment),e.routerLink&&e.routerLink.length>0&&this.router.navigate(e.routerLink,n)}},e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e(n.ɵɵinject(r.Router))},token:e,providedIn:"root"}),e=u([n.Injectable({providedIn:"root"}),f("design:paramtypes",[r.Router])],e)}(),j=function(){function e(e,n){this.sidebarService=e,this.routeService=n,this.isSidebarCollapsed=!0,this.isSidebarViewed=this.sidebarService.isSidebarViewed}return e.prototype.doAction=function(e){this.collapseSidebar(),e&&("function"==typeof e?e():this.routeService.navigate(e))},e.prototype.collapseSidebar=function(){this.isSidebarCollapsed=!0},e.prototype.toggleSidebar=function(){this.isSidebarCollapsed=!this.isSidebarCollapsed},e.prototype.isUsedRouterLink=function(e){return!(!e||"function"==typeof e||"string"==typeof e)},u([n.Input(),f("design:type",n.TemplateRef)],e.prototype,"headerTemplate",void 0),u([n.Input(),f("design:type",n.TemplateRef)],e.prototype,"contentTemplate",void 0),u([n.Input(),f("design:type",n.TemplateRef)],e.prototype,"footerTemplate",void 0),u([n.Input(),f("design:type",Array)],e.prototype,"menuItems",void 0),e=u([n.Component({selector:"cks-sidebar",template:'<div class="sidebar" *ngIf="isSidebarViewed | async">\n    <div class="sidebar-header">\n        <ng-template [ngTemplateOutlet]="headerTemplate"></ng-template>\n    </div>\n    <div class="sidebar-content">\n        <ng-template [ngTemplateOutlet]="contentTemplate || sidebarContent" [ngTemplateOutletContext]="{ items: menuItems }"> </ng-template>\n    </div>\n    <div class="sidebar-footer">\n        <ng-template [ngTemplateOutlet]="footerTemplate"></ng-template>\n    </div>\n</div>\n<ng-template #sidebarContent let-items="items">\n    <ul class="sidebar-menu" *ngIf="items">\n        <li *ngFor="let item of items">\n            <ng-template [ngTemplateOutlet]="isUsedRouterLink(item.navigation) ? routerLink : nonRouterLink" [ngTemplateOutletContext]="{ item: item }"></ng-template>\n            <ul class="sidebar-sub-menu" *ngIf="item.subItems && item.subItems.length > 0">\n                <li *ngFor="let subItem of item.subItems">\n                    <ng-template [ngTemplateOutlet]="isUsedRouterLink(subItem.navigation) ? routerLink : nonRouterLink" [ngTemplateOutletContext]="{ item: subItem }"></ng-template>\n                    <a class="btn btn-secondary btn-sm" (click)="doAction(subItem.ext.navigation)" *ngIf="subItem.ext">\n                        <fa-layers *ngIf="subItem.ext.icon && subItem.ext.icon.length > 0">\n                            <fa-icon [icon]="subItem.ext.icon"></fa-icon>\n                        </fa-layers>\n                    </a>\n                </li>\n            </ul>\n        </li>\n    </ul>\n</ng-template>\n<ng-template #nonRouterLink let-item="item">\n    <a (click)="doAction(item.navigation)">\n        <span>\n            <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                <fa-icon [icon]="item.icon"></fa-icon>\n            </fa-layers>\n            <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n        </span>\n    </a>\n</ng-template>\n<ng-template #routerLink let-item="item">\n    <a [routerLink]="item.navigation.routerLink" [queryParams]="item.navigation.queryParams" [fragment]="item.navigation.fragment">\n        <span>\n            <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                <fa-icon [icon]="item.icon"></fa-icon>\n            </fa-layers>\n            <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n        </span>\n    </a>\n</ng-template>\n'}),f("design:paramtypes",[w,C])],e)}(),S=function(){function e(e,n,t){this.el=e,this.renderer=n,this.translateService=t}return e.prototype.ngOnInit=function(){var e=this;this.translateService.onLangChange.subscribe(function(n){e.updateActiveFlag(n.lang)}),this.updateActiveFlag(this.translateService.currentLang)},e.prototype.updateActiveFlag=function(e){this.cksActiveLanguage===e?this.renderer.addClass(this.el.nativeElement,"active"):this.renderer.removeClass(this.el.nativeElement,"active")},u([n.Input(),f("design:type",String)],e.prototype,"cksActiveLanguage",void 0),e=u([n.Directive({selector:"[cksActiveLanguage]"}),f("design:paramtypes",[n.ElementRef,n.Renderer2,c.TranslateService])],e)}(),L=[b,k,j],R=[S],O=function(){function e(){}var t;return t=e,e.forRoot=function(e){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:h,useClass:h,deps:[y]}]}},e.forChild=function(e){return{ngModule:t,providers:[{provide:y,useValue:e}]}},e=t=u([n.NgModule({imports:[o.CommonModule,l.FontAwesomeModule,s.NgbModule,r.RouterModule,c.TranslateModule],declarations:d(R,L),entryComponents:[],exports:d(R,L,[c.TranslateModule])})],e)}(),x=function(){function e(){this.subscribersMap=new Map}return e.prototype.create=function(e){this.subscribersMap.set(e,[])},e.prototype.push=function(e,n){this.subscribersMap.get(e)===undefined&&this.create(e),this.subscribersMap.get(e).push(n)},e.prototype.destroy=function(e){var n=this.subscribersMap.get(e);n.filter(function(e){return e!==undefined&&!e.closed}).forEach(function(e){return e.unsubscribe()}),n.splice(0,n.length),this.subscribersMap["delete"](e)},e.prototype.getCount=function(e){return this.subscribersMap.get(e).length},e.prototype.destroyAll=function(){this.subscribersMap.forEach(function(e,n){e.filter(function(e){return e!==undefined&&!e.closed}).forEach(function(e){return e.unsubscribe()}),e.splice(0,e.length)}),this.subscribersMap.clear()},e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=u([n.Injectable({providedIn:"root"})],e)}();e.CksConfigService=h,e.CksModuleConfig=y,e.CksNavbarComponent=b,e.CksNavbarService=g,e.CksPageRibbonComponent=k,e.CksProfileService=I,e.CksRouteService=C,e.CksSidebarComponent=j,e.CksSidebarService=w,e.CksSubscriptionManager=x,e.NgChakansModule=O,e.ɵa=L,e.ɵb=R,e.ɵc=S,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-chakans.umd.min.js.map