!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("rxjs"),require("@angular/router"),require("@angular/common/http"),require("rxjs/operators"),require("@angular/common"),require("@ng-bootstrap/ng-bootstrap"),require("@fortawesome/angular-fontawesome"),require("@ngx-translate/core")):"function"==typeof define&&define.amd?define("ng-chakans",["exports","@angular/core","rxjs","@angular/router","@angular/common/http","rxjs/operators","@angular/common","@ng-bootstrap/ng-bootstrap","@fortawesome/angular-fontawesome","@ngx-translate/core"],n):n((e=e||self)["ng-chakans"]={},e.ng.core,e.rxjs,e.ng.router,e.ng.common.http,e.rxjs.operators,e.ng.common,e.ngBootstrap,e.angularFontawesome,e.core$1)}(this,function(e,n,t,a,i,r,o,s,l,c){"use strict";var u=function(){return(u=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)};function p(e,n,t,a){var i,r=arguments.length,o=r<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,t):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,a);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r<3?i(o):r>3?i(n,t,o):i(n,t))||o);return r>3&&o&&Object.defineProperty(n,t,o),o}function f(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)}function d(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,i,r=t.call(e),o=[];try{for(;(void 0===n||n-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(s){i={error:s}}finally{try{a&&!a.done&&(t=r["return"])&&t.call(r)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(d(arguments[n]));return e}var g=function(){function e(){this.navbarViewed=new t.BehaviorSubject(!0)}return Object.defineProperty(e.prototype,"isNavbarViewed",{get:function(){return this.navbarViewed.asObservable()},enumerable:!0,configurable:!0}),e.prototype.setNavbarViewed=function(e){this.navbarViewed.next(e)},e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=p([n.Injectable({providedIn:"root"}),f("design:paramtypes",[])],e)}(),b=function(){function e(e){this.router=e}return e.prototype.navigate=function(e){if("string"==typeof e)window.location.href=e;else{var n={};e.queryParams&&(n.queryParams=e.queryParams),e.fragment&&(n.fragment=e.fragment),e.routerLink&&e.routerLink.length>0&&this.router.navigate(e.routerLink,n)}},e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e(n.ɵɵinject(a.Router))},token:e,providedIn:"root"}),e=p([n.Injectable({providedIn:"root"}),f("design:paramtypes",[a.Router])],e)}(),v=function(){function e(e,n){this.navbarService=e,this.routeService=n,this.isNavbarCollapsed=!0,this.isNavbarViewed=this.navbarService.isNavbarViewed}return e.prototype.doAction=function(e){this.collapseNavbar(),e&&("function"==typeof e?e():this.routeService.navigate(e))},e.prototype.collapseNavbar=function(){this.isNavbarCollapsed=!0},e.prototype.toggleNavbar=function(){this.isNavbarCollapsed=!this.isNavbarCollapsed},e.prototype.isUsedRouterLink=function(e){return!(!e||"function"==typeof e||"string"==typeof e)},p([n.Input(),f("design:type",Object)],e.prototype,"brand",void 0),p([n.Input(),f("design:type",Array)],e.prototype,"menuItems",void 0),e=p([n.Component({selector:"cks-navbar",template:'<nav class="navbar navbar-dark navbar-expand-md bg-dark" *ngIf="isNavbarViewed | async">\n    <a class="navbar-brand logo" (click)="doAction({routerLink: [\'/\']})" *ngIf="brand && brand.title">\n        <span class="logo-img"></span>\n        <span class="navbar-title">{{ !brand.title.translateKey ? brand.title.label : (brand.title.translateKey | translate) }}</span>\n        <span class="navbar-version" *ngIf="brand.version">{{ brand.version }}</span>\n    </a>\n    <a class="navbar-toggler d-lg-none" href="javascript:void(0);" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation" (click)="toggleNavbar()">\n        <fa-icon icon="bars"></fa-icon>\n    </a>\n    <div class="navbar-collapse collapse" id="navbarResponsive" [ngbCollapse]="isNavbarCollapsed">\n        <ul class="navbar-nav ml-auto">\n            <ng-container *ngFor="let item of menuItems" [ngTemplateOutlet]="item.subItems && item.subItems.length > 0 ? dropdown : nonDropdown" [ngTemplateOutletContext]="{ item: item }"></ng-container>\n        </ul>\n    </div>\n</nav>\n<ng-template #nonDropdown let-item="item">\n    <li class="nav-item" routerLinkActive="active">\n        <ng-container [ngTemplateOutlet]="isUsedRouterLink(item.navigation) ? routerLink : nonRouterLink" [ngTemplateOutletContext]="{ item: item, classname: \'nav-link\' }"></ng-container>\n    </li>\n</ng-template>\n<ng-template #dropdown let-item="item">\n    <li ngbDropdown class="nav-item dropdown pointer" routerLinkActive="active">\n        <a class="nav-link dropdown-toggle" ngbDropdownToggle href="javascript:void(0);" id="{{ item.id }}">\n            <span>\n                <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                    <fa-icon [icon]="item.icon"></fa-icon>\n                </fa-layers>\n                <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n            </span>\n        </a>\n        <ul class="dropdown-menu" ngbDropdownMenu [attr.aria-labelledby]="item.id" *ngIf="item.subItems && item.subItems.length > 0">\n            <li *ngFor="let subItem of item.subItems">\n                <ng-container [ngTemplateOutlet]="isUsedRouterLink(subItem.navigation) ? routerLink : nonRouterLink" [ngTemplateOutletContext]="{ item: subItem, classname: \'dropdown-item\' }"></ng-container>\n            </li>\n        </ul>\n    </li>\n</ng-template>\n<ng-template #nonRouterLink let-item="item" let-classname="classname">\n    <a [ngClass]="classname" (click)="doAction(item.navigation)">\n        <span>\n            <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                <fa-icon [icon]="item.icon"></fa-icon>\n            </fa-layers>\n            <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n        </span>\n    </a>\n</ng-template>\n<ng-template #routerLink let-item="item" let-classname="classname">\n    <a [ngClass]="classname" [routerLink]="item.navigation.routerLink" [queryParams]="item.navigation.queryParams" [fragment]="item.navigation.fragment" (click)="collapseNavbar()">\n        <span>\n            <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                <fa-icon [icon]="item.icon"></fa-icon>\n            </fa-layers>\n            <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n        </span>\n    </a>\n</ng-template>\n'}),f("design:paramtypes",[g,b])],e)}(),y=function(){return function(){}}(),h=function(){function e(){this.serverApiUrl="/"}return e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=p([n.Injectable({providedIn:"root"})],e)}(),I=function(){function e(e){this.CONFIG_OPTIONS=u({},new h,e)}return e.prototype.getConfig=function(){return this.CONFIG_OPTIONS},e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e(n.ɵɵinject(h))},token:e,providedIn:"root"}),e=p([n.Injectable({providedIn:"root"}),f("design:paramtypes",[h])],e)}(),k=function(){function e(e,n){this.configService=e,this.http=n,this.infoUrl="{SERVER_API_URL}management/info";var t=this.configService.getConfig();this.infoUrl=this.infoUrl.replace("{SERVER_API_URL}",t.serverApiUrl)}return e.prototype.getProfileInfo=function(){return this.profileInfo||(this.profileInfo=this.http.get(this.infoUrl,{observe:"response"}).pipe(r.map(function(e){var n=e.body,t=new y;t.activeProfiles=n.activeProfiles;var a=n["display-ribbon-on-profiles"].split(",");if(t.activeProfiles){var i=a.filter(function(e){return t.activeProfiles.includes(e)});0!==i.length&&(t.ribbonEnv=i[0]),t.inProduction=t.activeProfiles.includes("prod"),t.swaggerEnabled=t.activeProfiles.includes("swagger")}return t})).toPromise()),this.profileInfo},e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e(n.ɵɵinject(I),n.ɵɵinject(i.HttpClient))},token:e,providedIn:"root"}),e=p([n.Injectable({providedIn:"root"}),f("design:paramtypes",[I,i.HttpClient])],e)}(),w=function(){function e(e){this.profileService=e}return e.prototype.ngOnInit=function(){var e=this;this.profileService.getProfileInfo().then(function(n){e.profileInfo=n,e.ribbonEnv=n.ribbonEnv})},e=p([n.Component({selector:"cks-page-ribbon",template:'\n    <div class="ribbon" *ngIf="ribbonEnv">\n      <a href="">{{ \'global.ribbon.\' + ribbonEnv | translate }}</a>\n    </div>\n  '}),f("design:paramtypes",[k])],e)}(),C=function(){function e(){this.sidebarViewed=new t.BehaviorSubject(!0)}return Object.defineProperty(e.prototype,"isSidebarViewed",{get:function(){return this.sidebarViewed.asObservable()},enumerable:!0,configurable:!0}),e.prototype.setSidebarViewed=function(e){this.sidebarViewed.next(e)},e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=p([n.Injectable({providedIn:"root"}),f("design:paramtypes",[])],e)}(),j=function(){function e(e,n){this.sidebarService=e,this.routeService=n,this.isSidebarViewed=this.sidebarService.isSidebarViewed}return e.prototype.doAction=function(e){e&&("function"==typeof e?e():this.routeService.navigate(e))},p([n.Input(),f("design:type",n.TemplateRef)],e.prototype,"headerTemplate",void 0),p([n.Input(),f("design:type",n.TemplateRef)],e.prototype,"contentTemplate",void 0),p([n.Input(),f("design:type",n.TemplateRef)],e.prototype,"footerTemplate",void 0),p([n.Input(),f("design:type",Array)],e.prototype,"menuItems",void 0),e=p([n.Component({selector:"cks-sidebar",template:'<div class="sidebar" *ngIf="isSidebarViewed | async">\n    <div class="sidebar-header">\n        <ng-template [ngTemplateOutlet]="headerTemplate"></ng-template>\n    </div>\n    <div class="sidebar-content">\n        <ng-template [ngTemplateOutlet]="contentTemplate || sidebarContent" [ngTemplateOutletContext]="{ items: menuItems }"> </ng-template>\n    </div>\n    <div class="sidebar-footer">\n        <ng-template [ngTemplateOutlet]="footerTemplate"></ng-template>\n    </div>\n</div>\n<ng-template #sidebarContent let-items="items">\n    <ul class="sidebar-menu" *ngIf="items">\n        <li *ngFor="let item of items">\n            <a (click)="doAction(item.navigation)">\n                <span>\n                    <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                        <fa-icon [icon]="item.icon"></fa-icon>\n                    </fa-layers>\n                    <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n                </span>\n            </a>\n            <ul class="sidebar-sub-menu" *ngIf="item.subItems && item.subItems.length > 0">\n                <li *ngFor="let subItem of item.subItems">\n                    <a (click)="doAction(subItem.navigation)">\n                        <span>\n                            <fa-layers [fixedWidth]="true" *ngIf="subItem.icon && subItem.icon.length > 0">\n                                <fa-icon [icon]="subItem.icon"></fa-icon>\n                            </fa-layers>\n                            <span>{{ !subItem.name.translateKey ? subItem.name.label : (subItem.name.translateKey | translate) }}</span>\n                        </span>\n                    </a>\n                    <a class="btn btn-secondary btn-sm" (click)="doAction(subItem.ext.navigation)" *ngIf="subItem.ext">\n                        <fa-layers *ngIf="subItem.ext.icon && subItem.ext.icon.length > 0">\n                            <fa-icon [icon]="subItem.ext.icon"></fa-icon>\n                        </fa-layers>\n                    </a>\n                </li>\n            </ul>\n        </li>\n    </ul>\n</ng-template>\n'}),f("design:paramtypes",[C,b])],e)}(),S=function(){function e(e,n,t){this.el=e,this.renderer=n,this.translateService=t}return e.prototype.ngOnInit=function(){var e=this;this.translateService.onLangChange.subscribe(function(n){e.updateActiveFlag(n.lang)}),this.updateActiveFlag(this.translateService.currentLang)},e.prototype.updateActiveFlag=function(e){this.cksActiveLanguage===e?this.renderer.addClass(this.el.nativeElement,"active"):this.renderer.removeClass(this.el.nativeElement,"active")},p([n.Input(),f("design:type",String)],e.prototype,"cksActiveLanguage",void 0),e=p([n.Directive({selector:"[cksActiveLanguage]"}),f("design:paramtypes",[n.ElementRef,n.Renderer2,c.TranslateService])],e)}(),R=[v,w,j],x=[S],O=function(){function e(){}var t;return t=e,e.forRoot=function(e){return{ngModule:t,providers:[{provide:h,useValue:e},{provide:I,useClass:I,deps:[h]}]}},e.forChild=function(e){return{ngModule:t,providers:[{provide:h,useValue:e}]}},e=t=p([n.NgModule({imports:[o.CommonModule,l.FontAwesomeModule,s.NgbModule,a.RouterModule,c.TranslateModule],declarations:m(x,R),entryComponents:[],exports:m(x,R,[c.TranslateModule])})],e)}(),P=function(){function e(){this.subscribersMap=new Map}return e.prototype.create=function(e){this.subscribersMap.set(e,[])},e.prototype.push=function(e,n){this.subscribersMap.get(e)===undefined&&this.create(e),this.subscribersMap.get(e).push(n)},e.prototype.destroy=function(e){var n=this.subscribersMap.get(e);n.filter(function(e){return e!==undefined&&!e.closed}).forEach(function(e){return e.unsubscribe()}),n.splice(0,n.length),this.subscribersMap["delete"](e)},e.prototype.getCount=function(e){return this.subscribersMap.get(e).length},e.prototype.destroyAll=function(){this.subscribersMap.forEach(function(e,n){e.filter(function(e){return e!==undefined&&!e.closed}).forEach(function(e){return e.unsubscribe()}),e.splice(0,e.length)}),this.subscribersMap.clear()},e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=p([n.Injectable({providedIn:"root"})],e)}();e.CksConfigService=I,e.CksModuleConfig=h,e.CksNavbarComponent=v,e.CksNavbarService=g,e.CksPageRibbonComponent=w,e.CksProfileService=k,e.CksRouteService=b,e.CksSidebarComponent=j,e.CksSidebarService=C,e.CksSubscriptionManager=P,e.NgChakansModule=O,e.ɵa=R,e.ɵb=x,e.ɵc=S,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-chakans.umd.min.js.map