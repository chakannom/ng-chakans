!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("rxjs"),require("@angular/router"),require("@angular/common/http"),require("rxjs/operators"),require("@angular/common"),require("@ng-bootstrap/ng-bootstrap"),require("@fortawesome/angular-fontawesome"),require("@ngx-translate/core")):"function"==typeof define&&define.amd?define("ng-chakans",["exports","@angular/core","rxjs","@angular/router","@angular/common/http","rxjs/operators","@angular/common","@ng-bootstrap/ng-bootstrap","@fortawesome/angular-fontawesome","@ngx-translate/core"],n):n((e=e||self)["ng-chakans"]={},e.ng.core,e.rxjs,e.ng.router,e.ng.common.http,e.rxjs.operators,e.ng.common,e.ngBootstrap,e.angularFontawesome,e.core$1)}(this,function(e,n,t,r,a,i,o,s,l,c){"use strict";var u=function(){return(u=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)};function p(e,n,t,r){var a,i=arguments.length,o=i<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(n,t,o):a(n,t))||o);return i>3&&o&&Object.defineProperty(n,t,o),o}function f(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)}function d(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var r,a,i=t.call(e),o=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(t=i["return"])&&t.call(i)}finally{if(a)throw a.error}}return o}function b(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(d(arguments[n]));return e}var m=function(){function e(){this.navbarViewed=new t.BehaviorSubject(!0)}return Object.defineProperty(e.prototype,"isNavbarViewed",{get:function(){return this.navbarViewed.asObservable()},enumerable:!0,configurable:!0}),e.prototype.setNavbarViewed=function(e){this.navbarViewed.next(e)},e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=p([n.Injectable({providedIn:"root"}),f("design:paramtypes",[])],e)}(),g=function(){function e(e){this.router=e}return e.prototype.navigate=function(e){if("string"==typeof e)window.location.href=e;else{var n={};e.queryParams&&(n.queryParams=e.queryParams),e.fragment&&(n.fragment=e.fragment),e.routerLink&&e.routerLink.length>0&&this.router.navigate(e.routerLink,n)}},e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e(n.ɵɵinject(r.Router))},token:e,providedIn:"root"}),e=p([n.Injectable({providedIn:"root"}),f("design:paramtypes",[r.Router])],e)}(),v=function(){function e(e,n){this.navbarService=e,this.routeService=n,this.isNavbarCollapsed=!0,this.isNavbarViewed=this.navbarService.isNavbarViewed}return e.prototype.doAction=function(e){this.collapseNavbar(),e&&("function"==typeof e?e():this.routeService.navigate(e))},e.prototype.collapseNavbar=function(){this.isNavbarCollapsed=!0},e.prototype.toggleNavbar=function(){this.isNavbarCollapsed=!this.isNavbarCollapsed},p([n.Input(),f("design:type",Object)],e.prototype,"brand",void 0),p([n.Input(),f("design:type",Array)],e.prototype,"menuItems",void 0),e=p([n.Component({selector:"cks-navbar",template:'<nav class="navbar navbar-dark navbar-expand-md bg-dark" *ngIf="isNavbarViewed | async">\n    <a class="navbar-brand logo" (click)="doAction({routerLink: [\'/\']})" *ngIf="brand && brand.title">\n        <span class="logo-img"></span>\n        <span class="navbar-title">{{ !brand.title.translateKey ? brand.title.label : (brand.title.translateKey | translate) }}</span>\n        <span class="navbar-version" *ngIf="brand.version">{{ brand.version }}</span>\n    </a>\n    <a class="navbar-toggler d-lg-none" href="javascript:void(0);" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation" (click)="toggleNavbar()">\n        <fa-icon icon="bars"></fa-icon>\n    </a>\n    <div class="navbar-collapse collapse" id="navbarResponsive" [ngbCollapse]="isNavbarCollapsed">\n        <ul class="navbar-nav ml-auto">\n            <li *ngFor="let item of menuItems" [ngTemplateOutlet]="item.subItems && item.subItems.length > 0 ? dropdown : nonDropdown" [ngTemplateOutletContext]="{ item: item }"></li>\n        </ul>\n    </div>\n</nav>\n<ng-template #nonDropdown let-item="item">\n    <li class="nav-item" routerLinkActive="active">\n        <a class="nav-link" (click)="doAction(item.navigation);">\n            <span>\n                <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                    <fa-icon [icon]="item.icon"></fa-icon>\n                </fa-layers>\n                <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n            </span>\n        </a>\n    </li>\n</ng-template>\n<ng-template #dropdown let-item="item">\n    <li ngbDropdown class="nav-item dropdown pointer" routerLinkActive="active">\n        <a class="nav-link dropdown-toggle" ngbDropdownToggle href="javascript:void(0);" id="{{ item.id }}">\n            <span>\n                <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                    <fa-icon [icon]="item.icon"></fa-icon>\n                </fa-layers>\n                <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n            </span>\n        </a>\n        <ul class="dropdown-menu" ngbDropdownMenu [attr.aria-labelledby]="item.id" *ngIf="item.subItems && item.subItems.length > 0">\n            <li *ngFor="let subItem of item.subItems">\n                <a class="dropdown-item" (click)="doAction(subItem.navigation);">\n                    <fa-layers [fixedWidth]="true" *ngIf="subItem.icon && subItem.icon.length > 0">\n                        <fa-icon [icon]="subItem.icon"></fa-icon>\n                    </fa-layers>\n                    <span>{{ !subItem.name.translateKey ? subItem.name.label : (subItem.name.translateKey | translate) }}</span>\n                </a>\n            </li>\n        </ul>\n    </li>\n</ng-template>\n'}),f("design:paramtypes",[m,g])],e)}(),h=function(){return function(){}}(),y=function(){function e(){this.serverApiUrl="/"}return e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=p([n.Injectable({providedIn:"root"})],e)}(),I=function(){function e(e){this.CONFIG_OPTIONS=u({},new y,e)}return e.prototype.getConfig=function(){return this.CONFIG_OPTIONS},e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e(n.ɵɵinject(y))},token:e,providedIn:"root"}),e=p([n.Injectable({providedIn:"root"}),f("design:paramtypes",[y])],e)}(),w=function(){function e(e,n){this.configService=e,this.http=n,this.infoUrl="{SERVER_API_URL}management/info";var t=this.configService.getConfig();this.infoUrl=this.infoUrl.replace("{SERVER_API_URL}",t.serverApiUrl)}return e.prototype.getProfileInfo=function(){return this.profileInfo||(this.profileInfo=this.http.get(this.infoUrl,{observe:"response"}).pipe(i.map(function(e){var n=e.body,t=new h;t.activeProfiles=n.activeProfiles;var r=n["display-ribbon-on-profiles"].split(",");if(t.activeProfiles){var a=r.filter(function(e){return t.activeProfiles.includes(e)});0!==a.length&&(t.ribbonEnv=a[0]),t.inProduction=t.activeProfiles.includes("prod"),t.swaggerEnabled=t.activeProfiles.includes("swagger")}return t})).toPromise()),this.profileInfo},e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e(n.ɵɵinject(I),n.ɵɵinject(a.HttpClient))},token:e,providedIn:"root"}),e=p([n.Injectable({providedIn:"root"}),f("design:paramtypes",[I,a.HttpClient])],e)}(),j=function(){function e(e){this.profileService=e}return e.prototype.ngOnInit=function(){var e=this;this.profileService.getProfileInfo().then(function(n){e.profileInfo=n,e.ribbonEnv=n.ribbonEnv})},e=p([n.Component({selector:"cks-page-ribbon",template:'\n    <div class="ribbon" *ngIf="ribbonEnv">\n      <a href="">{{ \'global.ribbon.\' + ribbonEnv | translate }}</a>\n    </div>\n  '}),f("design:paramtypes",[w])],e)}(),C=function(){function e(){this.sidebarViewed=new t.BehaviorSubject(!0)}return Object.defineProperty(e.prototype,"isSidebarViewed",{get:function(){return this.sidebarViewed.asObservable()},enumerable:!0,configurable:!0}),e.prototype.setSidebarViewed=function(e){this.sidebarViewed.next(e)},e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=p([n.Injectable({providedIn:"root"}),f("design:paramtypes",[])],e)}(),k=function(){function e(e,n){this.sidebarService=e,this.routeService=n,this.isSidebarViewed=this.sidebarService.isSidebarViewed}return e.prototype.doAction=function(e){e&&("function"==typeof e?e():this.routeService.navigate(e))},p([n.Input(),f("design:type",n.TemplateRef)],e.prototype,"headerTemplate",void 0),p([n.Input(),f("design:type",n.TemplateRef)],e.prototype,"contentTemplate",void 0),p([n.Input(),f("design:type",n.TemplateRef)],e.prototype,"footerTemplate",void 0),p([n.Input(),f("design:type",Array)],e.prototype,"menuItems",void 0),e=p([n.Component({selector:"cks-sidebar",template:'<div class="sidebar" *ngIf="isSidebarViewed | async">\n    <div class="sidebar-header">\n        <ng-template [ngTemplateOutlet]="headerTemplate"></ng-template>\n    </div>\n    <div class="sidebar-content">\n        <ng-template [ngTemplateOutlet]="contentTemplate || sidebarContent" [ngTemplateOutletContext]="{ items: menuItems }"> </ng-template>\n    </div>\n    <div class="sidebar-footer">\n        <ng-template [ngTemplateOutlet]="footerTemplate"></ng-template>\n    </div>\n</div>\n<ng-template #sidebarContent let-items="items">\n    <ul class="sidebar-menu" *ngIf="items">\n        <li *ngFor="let item of items">\n            <a (click)="doAction(item.navigation)">\n                <span>\n                    <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                        <fa-icon [icon]="item.icon"></fa-icon>\n                    </fa-layers>\n                    <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n                </span>\n            </a>\n            <ul class="sidebar-sub-menu" *ngIf="item.subItems && item.subItems.length > 0">\n                <li *ngFor="let subItem of item.subItems">\n                    <a (click)="doAction(subItem.navigation)">\n                        <span>\n                            <fa-layers [fixedWidth]="true" *ngIf="subItem.icon && subItem.icon.length > 0">\n                                <fa-icon [icon]="subItem.icon"></fa-icon>\n                            </fa-layers>\n                            <span>{{ !subItem.name.translateKey ? subItem.name.label : (subItem.name.translateKey | translate) }}</span>\n                        </span>\n                    </a>\n                    <a class="btn btn-secondary btn-sm" (click)="doAction(subItem.ext.navigation)" *ngIf="subItem.ext">\n                        <fa-layers *ngIf="subItem.ext.icon && subItem.ext.icon.length > 0">\n                            <fa-icon [icon]="subItem.ext.icon"></fa-icon>\n                        </fa-layers>\n                    </a>\n                </li>\n            </ul>\n        </li>\n    </ul>\n</ng-template>\n'}),f("design:paramtypes",[C,g])],e)}(),S=function(){function e(e,n,t){this.el=e,this.renderer=n,this.translateService=t}return e.prototype.ngOnInit=function(){var e=this;this.translateService.onLangChange.subscribe(function(n){e.updateActiveFlag(n.lang)}),this.updateActiveFlag(this.translateService.currentLang)},e.prototype.updateActiveFlag=function(e){this.cksActiveLanguage===e?this.renderer.addClass(this.el.nativeElement,"active"):this.renderer.removeClass(this.el.nativeElement,"active")},p([n.Input(),f("design:type",String)],e.prototype,"cksActiveLanguage",void 0),e=p([n.Directive({selector:"[cksActiveLanguage]"}),f("design:paramtypes",[n.ElementRef,n.Renderer2,c.TranslateService])],e)}(),x=[v,j,k],O=[S],R=function(){function e(){}var t;return t=e,e.forRoot=function(e){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:I,useClass:I,deps:[y]},{provide:w,useClass:w,deps:[I,a.HttpClient]},{provide:g,useClass:g,deps:[r.Router]}]}},e.forChild=function(e){return{ngModule:t,providers:[{provide:y,useValue:e}]}},e=t=p([n.NgModule({imports:[o.CommonModule,s.NgbModule,l.FontAwesomeModule,c.TranslateModule],declarations:b(O,x),entryComponents:[],exports:b(O,x,[c.TranslateModule])})],e)}(),P=function(){function e(){this.subscribersMap=new Map}return e.prototype.create=function(e){this.subscribersMap.set(e,[])},e.prototype.push=function(e,n){this.subscribersMap.get(e)===undefined&&this.create(e),this.subscribersMap.get(e).push(n)},e.prototype.destroy=function(e){var n=this.subscribersMap.get(e);n.filter(function(e){return e!==undefined&&!e.closed}).forEach(function(e){return e.unsubscribe()}),n.splice(0,n.length),this.subscribersMap["delete"](e)},e.prototype.getCount=function(e){return this.subscribersMap.get(e).length},e.prototype.destroyAll=function(){this.subscribersMap.forEach(function(e,n){e.filter(function(e){return e!==undefined&&!e.closed}).forEach(function(e){return e.unsubscribe()}),e.splice(0,e.length)}),this.subscribersMap.clear()},e.ngInjectableDef=n.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=p([n.Injectable({providedIn:"root"})],e)}();e.CksConfigService=I,e.CksModuleConfig=y,e.CksNavbarComponent=v,e.CksNavbarService=m,e.CksPageRibbonComponent=j,e.CksProfileService=w,e.CksRouteService=g,e.CksSidebarComponent=k,e.CksSidebarService=C,e.CksSubscriptionManager=P,e.NgChakansModule=R,e.ɵa=x,e.ɵb=O,e.ɵc=S,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-chakans.umd.min.js.map