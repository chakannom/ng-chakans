!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("@angular/router"),require("@angular/common/http"),require("rxjs/operators"),require("@angular/common"),require("@ng-bootstrap/ng-bootstrap"),require("@fortawesome/angular-fontawesome"),require("@ngx-translate/core")):"function"==typeof define&&define.amd?define("ng-chakans",["exports","@angular/core","rxjs","@angular/router","@angular/common/http","rxjs/operators","@angular/common","@ng-bootstrap/ng-bootstrap","@fortawesome/angular-fontawesome","@ngx-translate/core"],t):t((e=e||self)["ng-chakans"]={},e.ng.core,e.rxjs,e.ng.router,e.ng.common.http,e.rxjs.operators,e.ng.common,e.ngBootstrap,e.angularFontawesome,e.core$1)}(this,(function(e,t,n,i,a,o,r,s,l,c){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var p=function(){return(p=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function u(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,a,o=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)r.push(i.value)}catch(e){a={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return r}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}var f=function(){function e(){this.navbarViewed=new n.BehaviorSubject(!0)}return Object.defineProperty(e.prototype,"isNavbarViewed",{get:function(){return this.navbarViewed.asObservable()},enumerable:!0,configurable:!0}),e.prototype.setNavbarViewed=function(e){this.navbarViewed.next(e)},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=u([t.Injectable({providedIn:"root"})],e)}(),b=function(){function e(e){this.router=e}return e.prototype.navigate=function(e){if("string"==typeof e)window.location.href=e;else{var t={};e.queryParams&&(t.queryParams=e.queryParams),e.fragment&&(t.fragment=e.fragment),e.routerLink&&e.routerLink.length>0&&this.router.navigate(e.routerLink,t)}},e.ctorParameters=function(){return[{type:i.Router}]},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e(t.ɵɵinject(i.Router))},token:e,providedIn:"root"}),e=u([t.Injectable({providedIn:"root"})],e)}(),g=function(){function e(e,t){this.navbarService=e,this.routeService=t,this.isNavbarCollapsed=!0,this.isNavbarViewed=this.navbarService.isNavbarViewed}return e.prototype.doAction=function(e){this.collapseNavbar(),e&&("function"==typeof e?e():this.routeService.navigate(e))},e.prototype.collapseNavbar=function(){this.isNavbarCollapsed=!0},e.prototype.toggleNavbar=function(){this.isNavbarCollapsed=!this.isNavbarCollapsed},e.prototype.isUsedRouterLink=function(e){return!(!e||"function"==typeof e||"string"==typeof e)},e.ctorParameters=function(){return[{type:f},{type:b}]},u([t.Input()],e.prototype,"brand",void 0),u([t.Input()],e.prototype,"menuItems",void 0),e=u([t.Component({selector:"cks-navbar",template:'<nav class="navbar navbar-dark navbar-expand-md bg-dark" *ngIf="isNavbarViewed | async">\n    <a class="navbar-brand logo" (click)="doAction({routerLink: [\'/\']})" *ngIf="brand && brand.title">\n        <span class="logo-img"></span>\n        <span class="navbar-title">{{ !brand.title.translateKey ? brand.title.label : (brand.title.translateKey | translate) }}</span>\n        <span class="navbar-version" *ngIf="brand.version">{{ brand.version }}</span>\n    </a>\n    <a class="navbar-toggler d-lg-none" href="javascript:void(0);" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation" (click)="toggleNavbar()">\n        <fa-icon icon="bars"></fa-icon>\n    </a>\n    <div class="navbar-collapse collapse" id="navbarResponsive" [ngbCollapse]="isNavbarCollapsed">\n        <ul class="navbar-nav ml-auto">\n            <ng-template *ngFor="let item of menuItems" [ngTemplateOutlet]="item.subItems && item.subItems.length > 0 ? dropdown : nonDropdown" [ngTemplateOutletContext]="{ item: item }"></ng-template>\n        </ul>\n    </div>\n</nav>\n<ng-template #nonDropdown let-item="item">\n    <li class="nav-item" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">\n        <ng-template [ngTemplateOutlet]="isUsedRouterLink(item.navigation) ? routerLink : nonRouterLink" [ngTemplateOutletContext]="{ item: item, classname: \'nav-link\' }"></ng-template>\n    </li>\n</ng-template>\n<ng-template #dropdown let-item="item">\n    <li ngbDropdown class="nav-item dropdown pointer" display="dynamic" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">\n        <a class="nav-link dropdown-toggle" ngbDropdownToggle href="javascript:void(0);" id="{{ item.id }}">\n            <span>\n                <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                    <fa-icon [icon]="item.icon"></fa-icon>\n                </fa-layers>\n                <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n            </span>\n        </a>\n        <ul class="dropdown-menu" ngbDropdownMenu [attr.aria-labelledby]="item.id" *ngIf="item.subItems && item.subItems.length > 0">\n            <li *ngFor="let subItem of item.subItems">\n                <ng-template [ngTemplateOutlet]="isUsedRouterLink(subItem.navigation) ? routerLink : nonRouterLink" [ngTemplateOutletContext]="{ item: subItem, classname: \'dropdown-item\' }"></ng-template>\n            </li>\n        </ul>\n    </li>\n</ng-template>\n<ng-template #nonRouterLink let-item="item" let-classname="classname">\n    <a [ngClass]="classname" (click)="doAction(item.navigation)">\n        <span>\n            <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                <fa-icon [icon]="item.icon"></fa-icon>\n            </fa-layers>\n            <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n        </span>\n    </a>\n</ng-template>\n<ng-template #routerLink let-item="item" let-classname="classname">\n    <a [ngClass]="classname" routerLinkActive="active" [routerLink]="item.navigation.routerLink" [queryParams]="item.navigation.queryParams" [fragment]="item.navigation.fragment" (click)="collapseNavbar()">\n        <span>\n            <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                <fa-icon [icon]="item.icon"></fa-icon>\n            </fa-layers>\n            <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n        </span>\n    </a>\n</ng-template>\n'})],e)}(),v=function(){},h=function(){function e(){this.serverApiUrl="/"}return e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=u([t.Injectable({providedIn:"root"})],e)}(),y=function(){function e(e){this.CONFIG_OPTIONS=p({},new h,e)}return e.prototype.getConfig=function(){return this.CONFIG_OPTIONS},e.ctorParameters=function(){return[{type:h}]},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e(t.ɵɵinject(h))},token:e,providedIn:"root"}),e=u([t.Injectable({providedIn:"root"})],e)}(),I=function(){function e(e,t){this.configService=e,this.http=t,this.infoUrl="{SERVER_API_URL}management/info";var n=this.configService.getConfig();this.infoUrl=this.infoUrl.replace("{SERVER_API_URL}",n.serverApiUrl)}return e.prototype.getProfileInfo=function(){return this.profileInfo||(this.profileInfo=this.http.get(this.infoUrl,{observe:"response"}).pipe(o.map((function(e){var t=e.body,n=new v;n.activeProfiles=t.activeProfiles;var i=t["display-ribbon-on-profiles"].split(",");if(n.activeProfiles){var a=i.filter((function(e){return n.activeProfiles.includes(e)}));0!==a.length&&(n.ribbonEnv=a[0]),n.inProduction=n.activeProfiles.includes("prod"),n.swaggerEnabled=n.activeProfiles.includes("swagger")}return n}))).toPromise()),this.profileInfo},e.ctorParameters=function(){return[{type:y},{type:a.HttpClient}]},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e(t.ɵɵinject(y),t.ɵɵinject(a.HttpClient))},token:e,providedIn:"root"}),e=u([t.Injectable({providedIn:"root"})],e)}(),k=function(){function e(e){this.profileService=e}return e.prototype.ngOnInit=function(){var e=this;this.profileService.getProfileInfo().then((function(t){e.profileInfo=t,e.ribbonEnv=t.ribbonEnv}))},e.ctorParameters=function(){return[{type:I}]},e=u([t.Component({selector:"cks-page-ribbon",template:'\n    <div class="ribbon" *ngIf="ribbonEnv">\n      <a href="">{{ \'global.ribbon.\' + ribbonEnv | translate }}</a>\n    </div>\n  '})],e)}(),w=function(){function e(){this.sidebarViewed=new n.BehaviorSubject(!0)}return Object.defineProperty(e.prototype,"isSidebarViewed",{get:function(){return this.sidebarViewed.asObservable()},enumerable:!0,configurable:!0}),e.prototype.setSidebarViewed=function(e){this.sidebarViewed.next(e)},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=u([t.Injectable({providedIn:"root"})],e)}(),C=function(){function e(e,t){this.sidebarService=e,this.routeService=t,this._header=!0,this.isSidebarCollapsed=!0,this.isSidebarViewed=this.sidebarService.isSidebarViewed}return e.prototype.doAction=function(e){this.collapseSidebar(),e&&("function"==typeof e?e():this.routeService.navigate(e))},e.prototype.collapseSidebar=function(){this.isSidebarCollapsed=!0},e.prototype.toggleSidebar=function(){this.isSidebarCollapsed=!this.isSidebarCollapsed},e.prototype.isUsedRouterLink=function(e){return!(!e||"function"==typeof e||"string"==typeof e)},e.ctorParameters=function(){return[{type:w},{type:b}]},u([t.HostBinding("class.cks-sidebar")],e.prototype,"_header",void 0),u([t.Input()],e.prototype,"headerTemplate",void 0),u([t.Input()],e.prototype,"contentTemplate",void 0),u([t.Input()],e.prototype,"footerTemplate",void 0),u([t.Input()],e.prototype,"menuItems",void 0),e=u([t.Component({selector:"cks-sidebar",template:'<div class="cks-sidebar-brand">\n    <span class="cks-sidebar-logo-img"></span>\n    <span class="cks-sidebar-brand-text">Gooroom</span>\n    <span class="cks-sidebar-version">vUNKNOWN</span>\n</div>\n\n\x3c!--\n<div class="sidebar" *ngIf="isSidebarViewed | async">\n    <div class="sidebar-header">\n        <ng-template [ngTemplateOutlet]="headerTemplate"></ng-template>\n    </div>\n    <div class="sidebar-content">\n        <ng-template [ngTemplateOutlet]="contentTemplate || sidebarContent" [ngTemplateOutletContext]="{ items: menuItems }"> </ng-template>\n    </div>\n    <div class="sidebar-footer">\n        <ng-template [ngTemplateOutlet]="footerTemplate"></ng-template>\n    </div>\n</div>\n<ng-template #sidebarContent let-items="items">\n    <ul class="sidebar-menu" *ngIf="items">\n        <li *ngFor="let item of items">\n            <ng-template [ngTemplateOutlet]="isUsedRouterLink(item.navigation) ? routerLink : nonRouterLink" [ngTemplateOutletContext]="{ item: item }"></ng-template>\n            <ul class="sidebar-sub-menu" *ngIf="item.subItems && item.subItems.length > 0">\n                <li *ngFor="let subItem of item.subItems">\n                    <ng-template [ngTemplateOutlet]="isUsedRouterLink(subItem.navigation) ? routerLink : nonRouterLink" [ngTemplateOutletContext]="{ item: subItem }"></ng-template>\n                    <a class="btn btn-secondary btn-sm" (click)="doAction(subItem.ext.navigation)" *ngIf="subItem.ext">\n                        <fa-layers *ngIf="subItem.ext.icon && subItem.ext.icon.length > 0">\n                            <fa-icon [icon]="subItem.ext.icon"></fa-icon>\n                        </fa-layers>\n                    </a>\n                </li>\n            </ul>\n        </li>\n    </ul>\n</ng-template>\n<ng-template #nonRouterLink let-item="item">\n    <a (click)="doAction(item.navigation)">\n        <span>\n            <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                <fa-icon [icon]="item.icon"></fa-icon>\n            </fa-layers>\n            <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n        </span>\n    </a>\n</ng-template>\n<ng-template #routerLink let-item="item">\n    <a [routerLink]="item.navigation.routerLink" [queryParams]="item.navigation.queryParams" [fragment]="item.navigation.fragment">\n        <span>\n            <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                <fa-icon [icon]="item.icon"></fa-icon>\n            </fa-layers>\n            <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n        </span>\n    </a>\n</ng-template>\n--\x3e\n'})],e)}(),x=function(){function e(e,t,n){this.document=e,this.renderer=t,this.routeService=n,this._header=!0,this._fixedTop=!1,this._positionFixed=!1,this._withSidebar=!1,this._withSubHeader=!1}var n,i;return e.prototype.ngOnInit=function(){this._fixedTop=this._positionFixed=this.fixed,this._withSidebar=this.withSidebar,this._withSubHeader=this.withSubheader,this.textItems=this.textItems?this.textItems.slice(0,3):[],this.iconItems=this.iconItems?this.iconItems.slice(0,6):[]},e.prototype.ngOnDestroy=function(){},e.prototype.doAction=function(e){e&&("function"==typeof e?e():this.routeService.navigate(e))},e.ctorParameters=function(){return[{type:void 0,decorators:[{type:t.Inject,args:[r.DOCUMENT]}]},{type:t.Renderer2},{type:b}]},u([t.Input()],e.prototype,"fixed",void 0),u([t.Input()],e.prototype,"withSidebar",void 0),u([t.Input()],e.prototype,"textItems",void 0),u([t.Input()],e.prototype,"iconItems",void 0),u([t.Input()],e.prototype,"userImgUrl",void 0),u([t.Input()],e.prototype,"withSubheader",void 0),u([t.Input()],e.prototype,"breadcrumbItems",void 0),u([t.HostBinding("class.cks-header")],e.prototype,"_header",void 0),u([t.HostBinding("class.fixed-top")],e.prototype,"_fixedTop",void 0),u([t.HostBinding("class.position-fixed")],e.prototype,"_positionFixed",void 0),u([t.HostBinding("class.cks-header-with-sidebar")],e.prototype,"_withSidebar",void 0),u([t.HostBinding("class.cks-header-with-subheader")],e.prototype,"_withSubHeader",void 0),e=u([t.Component({selector:"cks-topbar",template:'<div class="d-flex" [ngSwitch]="withSidebar">\n    <button  class="navbar-toggler d-lg-none mr-auto" type="button" *ngSwitchCase="true">\n        <fa-icon icon="bars"></fa-icon>\n    </button>\n    <a class="cks-header-brand">\n        <span class="cks-header-logo-img"></span>\n        <span class="cks-header-brand-text">Gooroom</span>\n        <span class="cks-header-version">vUNKNOWN</span>\n    </a>\n    <button class="navbar-toggler d-none d-lg-block ml-3" type="button" *ngSwitchCase="true">\n        <fa-icon icon="bars"></fa-icon>\n    </button>\n</div>\n<ul class="nav navbar-nav d-none d-lg-flex">\n    <li class="nav-item px-2" *ngFor="let tItem of textItems">\n        <a class="nav-link" (click)="doAction(tItem.navigation)">\n            {{ !tItem.name.translateKey ? tItem.name.label : (tItem.name.translateKey | translate) }}\n        </a>\n    </li>\n</ul>\n<ul class="nav navbar-nav ml-auto">\n    <li class="nav-item" *ngFor="let iItem of iconItems">\n        <a class="nav-link" (click)="doAction(iItem.navigation)" placement="bottom" ngbTooltip="{{ iItem.tooltip ? (!iItem.tooltip.translateKey ? iItem.tooltip.label : (iItem.tooltip.translateKey | translate)) : undefined }}">\n            <fa-icon [icon]="iItem.icon" class="cks-icon"></fa-icon>\n        </a>\n    </li>\n    <li class="nav-item">\n        <a class="nav-link py-0 px-2">\n            <fa-icon icon="user-circle" class="profile-icon" *ngIf="!userImgUrl"></fa-icon>\n            <img [src]="userImgUrl" class="profile-image rounded-circle" alt="Avatar" *ngIf="userImgUrl">\n        </a>\n    </li>\n    <li class="nav-item pr-1">\n        <button class="nav-button" type="button">\n            <fa-icon icon="ellipsis-h"></fa-icon>\n        </button>\n    </li>\n</ul>\n<div class="cks-subheader justify-content-between px-3" *ngIf="withSubheader">\n    <ol class="breadcrumb border-0 m-0 px-0 px-md-3 bg-transparent">\n        <li class="breadcrumb-item" [ngClass]="{\'active\': isLast}" *ngFor="let bItem of breadcrumbItems; last as isLast">\n            <a (click)="doAction(bItem.navigation)">{{ !bItem.name.translateKey ? bItem.name.label : (bItem.name.translateKey | translate) }}</a>\n        </li>\n    </ol>\n</div>\n'}),(n=0,i=t.Inject(r.DOCUMENT),function(e,t){i(e,t,n)})],e)}(),S=function(){function e(e,t,n){this.el=e,this.renderer=t,this.translateService=n}return e.prototype.ngOnInit=function(){var e=this;this.translateService.onLangChange.subscribe((function(t){e.updateActiveFlag(t.lang)})),this.updateActiveFlag(this.translateService.currentLang)},e.prototype.updateActiveFlag=function(e){this.cksActiveLanguage===e?this.renderer.addClass(this.el.nativeElement,"active"):this.renderer.removeClass(this.el.nativeElement,"active")},e.ctorParameters=function(){return[{type:t.ElementRef},{type:t.Renderer2},{type:c.TranslateService}]},u([t.Input()],e.prototype,"cksActiveLanguage",void 0),e=u([t.Directive({selector:"[cksActiveLanguage]"})],e)}(),j=[g,k,C,x],O=[S],L=function(){function e(){}var n;return n=e,e.forRoot=function(e){return{ngModule:n,providers:[{provide:h,useValue:e},{provide:y,useClass:y,deps:[h]}]}},e.forChild=function(e){return{ngModule:n,providers:[{provide:h,useValue:e}]}},e=n=u([t.NgModule({imports:[r.CommonModule,l.FontAwesomeModule,s.NgbModule,i.RouterModule,c.TranslateModule],declarations:m(O,j),entryComponents:[],exports:m(O,j,[c.TranslateModule])})],e)}(),P=function(){function e(){this.subscribersMap=new Map}return e.prototype.create=function(e){this.subscribersMap.set(e,[])},e.prototype.push=function(e,t){void 0===this.subscribersMap.get(e)&&this.create(e),this.subscribersMap.get(e).push(t)},e.prototype.destroy=function(e){var t=this.subscribersMap.get(e);t.filter((function(e){return void 0!==e&&!e.closed})).forEach((function(e){return e.unsubscribe()})),t.splice(0,t.length),this.subscribersMap.delete(e)},e.prototype.getCount=function(e){return this.subscribersMap.get(e).length},e.prototype.destroyAll=function(){this.subscribersMap.forEach((function(e,t){e.filter((function(e){return void 0!==e&&!e.closed})).forEach((function(e){return e.unsubscribe()})),e.splice(0,e.length)})),this.subscribersMap.clear()},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=u([t.Injectable({providedIn:"root"})],e)}();e.CksConfigService=y,e.CksModuleConfig=h,e.CksNavbarComponent=g,e.CksNavbarService=f,e.CksPageRibbonComponent=k,e.CksProfileInfo=v,e.CksProfileService=I,e.CksRouteService=b,e.CksSidebarComponent=C,e.CksSidebarService=w,e.CksSubscriptionManager=P,e.CksTopbarComponent=x,e.NgChakansModule=L,e.ɵa=j,e.ɵb=O,e.ɵc=S,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-chakans.umd.min.js.map