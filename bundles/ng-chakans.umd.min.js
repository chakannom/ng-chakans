!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("@angular/router"),require("@angular/common/http"),require("rxjs/operators"),require("@angular/common"),require("@ng-bootstrap/ng-bootstrap"),require("@fortawesome/angular-fontawesome"),require("@ngx-translate/core")):"function"==typeof define&&define.amd?define("ng-chakans",["exports","@angular/core","rxjs","@angular/router","@angular/common/http","rxjs/operators","@angular/common","@ng-bootstrap/ng-bootstrap","@fortawesome/angular-fontawesome","@ngx-translate/core"],t):t((e=e||self)["ng-chakans"]={},e.ng.core,e.rxjs,e.ng.router,e.ng.common.http,e.rxjs.operators,e.ng.common,e.ngBootstrap,e.angularFontawesome,e.core$1)}(this,function(e,t,n,i,a,r,o,s,l,c){"use strict";var u=function(){return(u=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function p(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}function f(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,a,r=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r["return"])&&n.call(r)}finally{if(a)throw a.error}}return o}function d(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}var g=function(){function e(){this.navbarViewed=new n.BehaviorSubject(!0)}return Object.defineProperty(e.prototype,"isNavbarViewed",{get:function(){return this.navbarViewed.asObservable()},enumerable:!0,configurable:!0}),e.prototype.setNavbarViewed=function(e){this.navbarViewed.next(e)},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=p([t.Injectable({providedIn:"root"}),f("design:paramtypes",[])],e)}(),b=function(){function e(e){this.router=e}return e.prototype.navigate=function(e){if("string"==typeof e)window.location.href=e;else{var t={};e.queryParams&&(t.queryParams=e.queryParams),e.fragment&&(t.fragment=e.fragment),e.routerLink&&e.routerLink.length>0&&this.router.navigate(e.routerLink,t)}},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e(t.ɵɵinject(i.Router))},token:e,providedIn:"root"}),e=p([t.Injectable({providedIn:"root"}),f("design:paramtypes",[i.Router])],e)}(),v=function(){function e(e,t){this.navbarService=e,this.routeService=t,this.isNavbarCollapsed=!0,this.isNavbarViewed=this.navbarService.isNavbarViewed}return e.prototype.doAction=function(e){this.collapseNavbar(),e&&("function"==typeof e?e():this.routeService.navigate(e))},e.prototype.collapseNavbar=function(){this.isNavbarCollapsed=!0},e.prototype.toggleNavbar=function(){this.isNavbarCollapsed=!this.isNavbarCollapsed},e.prototype.isUsedRouterLink=function(e){return!(!e||"function"==typeof e||"string"==typeof e)},p([t.Input(),f("design:type",Object)],e.prototype,"brand",void 0),p([t.Input(),f("design:type",Array)],e.prototype,"menuItems",void 0),e=p([t.Component({selector:"cks-navbar",template:'<nav class="navbar navbar-dark navbar-expand-md bg-dark" *ngIf="isNavbarViewed | async">\n    <a class="navbar-brand logo" (click)="doAction({routerLink: [\'/\']})" *ngIf="brand && brand.title">\n        <span class="logo-img"></span>\n        <span class="navbar-title">{{ !brand.title.translateKey ? brand.title.label : (brand.title.translateKey | translate) }}</span>\n        <span class="navbar-version" *ngIf="brand.version">{{ brand.version }}</span>\n    </a>\n    <a class="navbar-toggler d-lg-none" href="javascript:void(0);" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation" (click)="toggleNavbar()">\n        <fa-icon icon="bars"></fa-icon>\n    </a>\n    <div class="navbar-collapse collapse" id="navbarResponsive" [ngbCollapse]="isNavbarCollapsed">\n        <ul class="navbar-nav ml-auto">\n            <ng-template *ngFor="let item of menuItems" [ngTemplateOutlet]="item.subItems && item.subItems.length > 0 ? dropdown : nonDropdown" [ngTemplateOutletContext]="{ item: item }"></ng-template>\n        </ul>\n    </div>\n</nav>\n<ng-template #nonDropdown let-item="item">\n    <li class="nav-item" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">\n        <ng-template [ngTemplateOutlet]="isUsedRouterLink(item.navigation) ? routerLink : nonRouterLink" [ngTemplateOutletContext]="{ item: item, classname: \'nav-link\' }"></ng-template>\n    </li>\n</ng-template>\n<ng-template #dropdown let-item="item">\n    <li ngbDropdown class="nav-item dropdown pointer" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">\n        <a class="nav-link dropdown-toggle" ngbDropdownToggle href="javascript:void(0);" id="{{ item.id }}">\n            <span>\n                <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                    <fa-icon [icon]="item.icon"></fa-icon>\n                </fa-layers>\n                <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n            </span>\n        </a>\n        <ul class="dropdown-menu" ngbDropdownMenu [attr.aria-labelledby]="item.id" *ngIf="item.subItems && item.subItems.length > 0">\n            <li *ngFor="let subItem of item.subItems">\n                <ng-template [ngTemplateOutlet]="isUsedRouterLink(subItem.navigation) ? routerLink : nonRouterLink" [ngTemplateOutletContext]="{ item: subItem, classname: \'dropdown-item\' }"></ng-template>\n            </li>\n        </ul>\n    </li>\n</ng-template>\n<ng-template #nonRouterLink let-item="item" let-classname="classname">\n    <a [ngClass]="classname" (click)="doAction(item.navigation)">\n        <span>\n            <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                <fa-icon [icon]="item.icon"></fa-icon>\n            </fa-layers>\n            <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n        </span>\n    </a>\n</ng-template>\n<ng-template #routerLink let-item="item" let-classname="classname">\n    <a [ngClass]="classname" routerLinkActive="active" [routerLink]="item.navigation.routerLink" [queryParams]="item.navigation.queryParams" [fragment]="item.navigation.fragment" (click)="collapseNavbar()">\n        <span>\n            <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                <fa-icon [icon]="item.icon"></fa-icon>\n            </fa-layers>\n            <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n        </span>\n    </a>\n</ng-template>\n'}),f("design:paramtypes",[g,b])],e)}(),y=function(){return function(){}}(),h=function(){function e(){this.serverApiUrl="/"}return e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=p([t.Injectable({providedIn:"root"})],e)}(),I=function(){function e(e){this.CONFIG_OPTIONS=u({},new h,e)}return e.prototype.getConfig=function(){return this.CONFIG_OPTIONS},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e(t.ɵɵinject(h))},token:e,providedIn:"root"}),e=p([t.Injectable({providedIn:"root"}),f("design:paramtypes",[h])],e)}(),k=function(){function e(e,t){this.configService=e,this.http=t,this.infoUrl="{SERVER_API_URL}management/info";var n=this.configService.getConfig();this.infoUrl=this.infoUrl.replace("{SERVER_API_URL}",n.serverApiUrl)}return e.prototype.getProfileInfo=function(){return this.profileInfo||(this.profileInfo=this.http.get(this.infoUrl,{observe:"response"}).pipe(r.map(function(e){var t=e.body,n=new y;n.activeProfiles=t.activeProfiles;var i=t["display-ribbon-on-profiles"].split(",");if(n.activeProfiles){var a=i.filter(function(e){return n.activeProfiles.includes(e)});0!==a.length&&(n.ribbonEnv=a[0]),n.inProduction=n.activeProfiles.includes("prod"),n.swaggerEnabled=n.activeProfiles.includes("swagger")}return n})).toPromise()),this.profileInfo},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e(t.ɵɵinject(I),t.ɵɵinject(a.HttpClient))},token:e,providedIn:"root"}),e=p([t.Injectable({providedIn:"root"}),f("design:paramtypes",[I,a.HttpClient])],e)}(),C=function(){function e(e){this.profileService=e}return e.prototype.ngOnInit=function(){var e=this;this.profileService.getProfileInfo().then(function(t){e.profileInfo=t,e.ribbonEnv=t.ribbonEnv})},e=p([t.Component({selector:"cks-page-ribbon",template:'\n    <div class="ribbon" *ngIf="ribbonEnv">\n      <a href="">{{ \'global.ribbon.\' + ribbonEnv | translate }}</a>\n    </div>\n  '}),f("design:paramtypes",[k])],e)}(),w=function(){function e(){this.sidebarViewed=new n.BehaviorSubject(!0)}return Object.defineProperty(e.prototype,"isSidebarViewed",{get:function(){return this.sidebarViewed.asObservable()},enumerable:!0,configurable:!0}),e.prototype.setSidebarViewed=function(e){this.sidebarViewed.next(e)},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=p([t.Injectable({providedIn:"root"}),f("design:paramtypes",[])],e)}(),j=function(){function e(e,t){this.sidebarService=e,this.routeService=t,this.isSidebarCollapsed=!0,this.isSidebarViewed=this.sidebarService.isSidebarViewed}return e.prototype.doAction=function(e){this.collapseSidebar(),e&&("function"==typeof e?e():this.routeService.navigate(e))},e.prototype.collapseSidebar=function(){this.isSidebarCollapsed=!0},e.prototype.toggleSidebar=function(){this.isSidebarCollapsed=!this.isSidebarCollapsed},e.prototype.isUsedRouterLink=function(e){return!(!e||"function"==typeof e||"string"==typeof e)},p([t.Input(),f("design:type",t.TemplateRef)],e.prototype,"headerTemplate",void 0),p([t.Input(),f("design:type",t.TemplateRef)],e.prototype,"contentTemplate",void 0),p([t.Input(),f("design:type",t.TemplateRef)],e.prototype,"footerTemplate",void 0),p([t.Input(),f("design:type",Array)],e.prototype,"menuItems",void 0),e=p([t.Component({selector:"cks-sidebar",template:'<div class="sidebar" *ngIf="isSidebarViewed | async">\n    <div class="sidebar-header">\n        <ng-template [ngTemplateOutlet]="headerTemplate"></ng-template>\n    </div>\n    <div class="sidebar-content">\n        <ng-template [ngTemplateOutlet]="contentTemplate || sidebarContent" [ngTemplateOutletContext]="{ items: menuItems }"> </ng-template>\n    </div>\n    <div class="sidebar-footer">\n        <ng-template [ngTemplateOutlet]="footerTemplate"></ng-template>\n    </div>\n</div>\n<ng-template #sidebarContent let-items="items">\n    <ul class="sidebar-menu" *ngIf="items">\n        <li *ngFor="let item of items">\n            <ng-template [ngTemplateOutlet]="isUsedRouterLink(item.navigation) ? routerLink : nonRouterLink" [ngTemplateOutletContext]="{ item: item }"></ng-template>\n            <ul class="sidebar-sub-menu" *ngIf="item.subItems && item.subItems.length > 0">\n                <li *ngFor="let subItem of item.subItems">\n                    <ng-template [ngTemplateOutlet]="isUsedRouterLink(subItem.navigation) ? routerLink : nonRouterLink" [ngTemplateOutletContext]="{ item: subItem }"></ng-template>\n                    <a class="btn btn-secondary btn-sm" (click)="doAction(subItem.ext.navigation)" *ngIf="subItem.ext">\n                        <fa-layers *ngIf="subItem.ext.icon && subItem.ext.icon.length > 0">\n                            <fa-icon [icon]="subItem.ext.icon"></fa-icon>\n                        </fa-layers>\n                    </a>\n                </li>\n            </ul>\n        </li>\n    </ul>\n</ng-template>\n<ng-template #nonRouterLink let-item="item">\n    <a (click)="doAction(item.navigation)">\n        <span>\n            <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                <fa-icon [icon]="item.icon"></fa-icon>\n            </fa-layers>\n            <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n        </span>\n    </a>\n</ng-template>\n<ng-template #routerLink let-item="item">\n    <a [routerLink]="item.navigation.routerLink" [queryParams]="item.navigation.queryParams" [fragment]="item.navigation.fragment">\n        <span>\n            <fa-layers [fixedWidth]="true" *ngIf="item.icon && item.icon.length > 0">\n                <fa-icon [icon]="item.icon"></fa-icon>\n            </fa-layers>\n            <span>{{ !item.name.translateKey ? item.name.label : (item.name.translateKey | translate) }}</span>\n        </span>\n    </a>\n</ng-template>\n'}),f("design:paramtypes",[w,b])],e)}(),S=function(){function e(e,t,n){this.el=e,this.renderer=t,this.translateService=n}return e.prototype.ngOnInit=function(){var e=this;this.translateService.onLangChange.subscribe(function(t){e.updateActiveFlag(t.lang)}),this.updateActiveFlag(this.translateService.currentLang)},e.prototype.updateActiveFlag=function(e){this.cksActiveLanguage===e?this.renderer.addClass(this.el.nativeElement,"active"):this.renderer.removeClass(this.el.nativeElement,"active")},p([t.Input(),f("design:type",String)],e.prototype,"cksActiveLanguage",void 0),e=p([t.Directive({selector:"[cksActiveLanguage]"}),f("design:paramtypes",[t.ElementRef,t.Renderer2,c.TranslateService])],e)}(),L=[v,C,j],R=[S],O=function(){function e(){}var n;return n=e,e.forRoot=function(e){return{ngModule:n,providers:[{provide:h,useValue:e},{provide:I,useClass:I,deps:[h]}]}},e.forChild=function(e){return{ngModule:n,providers:[{provide:h,useValue:e}]}},e=n=p([t.NgModule({imports:[o.CommonModule,l.FontAwesomeModule,s.NgbModule,i.RouterModule,c.TranslateModule],declarations:d(R,L),entryComponents:[],exports:d(R,L,[c.TranslateModule])})],e)}(),x=function(){function e(){this.subscribersMap=new Map}return e.prototype.create=function(e){this.subscribersMap.set(e,[])},e.prototype.push=function(e,t){this.subscribersMap.get(e)===undefined&&this.create(e),this.subscribersMap.get(e).push(t)},e.prototype.destroy=function(e){var t=this.subscribersMap.get(e);t.filter(function(e){return e!==undefined&&!e.closed}).forEach(function(e){return e.unsubscribe()}),t.splice(0,t.length),this.subscribersMap["delete"](e)},e.prototype.getCount=function(e){return this.subscribersMap.get(e).length},e.prototype.destroyAll=function(){this.subscribersMap.forEach(function(e,t){e.filter(function(e){return e!==undefined&&!e.closed}).forEach(function(e){return e.unsubscribe()}),e.splice(0,e.length)}),this.subscribersMap.clear()},e.ngInjectableDef=t.ɵɵdefineInjectable({factory:function(){return new e},token:e,providedIn:"root"}),e=p([t.Injectable({providedIn:"root"})],e)}();e.CksConfigService=I,e.CksModuleConfig=h,e.CksNavbarComponent=v,e.CksNavbarService=g,e.CksPageRibbonComponent=C,e.CksProfileService=k,e.CksRouteService=b,e.CksSidebarComponent=j,e.CksSidebarService=w,e.CksSubscriptionManager=x,e.NgChakansModule=O,e.ɵa=L,e.ɵb=R,e.ɵc=S,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-chakans.umd.min.js.map